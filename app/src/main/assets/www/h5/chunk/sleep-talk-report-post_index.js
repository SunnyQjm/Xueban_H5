(window.webpackJsonp=window.webpackJsonp||[]).push([[29],{"253":function(e,t,o){"use strict";o(16);var n=o(3),r=o(30),a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e},i=function(){function defineProperties(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,o){return t&&defineProperties(e.prototype,t),o&&defineProperties(e,o),e}}();var l=function(e){function Textarea(){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Textarea);var e=function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(Textarea.__proto__||Object.getPrototypeOf(Textarea)).apply(this,arguments));return e.onChange=e.onChange.bind(e),e.onFocus=e.onFocus.bind(e),e.onBlur=e.onBlur.bind(e),e}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(Textarea,n["e"].Component),i(Textarea,[{"key":"onChange","value":function onChange(e){var t=this.props,o=t.onChange,onChange=void 0===o?"":o,n=t.onInput,r=void 0===n?"":n;return Object.defineProperty(e,"detail",{"enumerable":!0,"value":{"value":e.target.value}}),onChange?onChange&&onChange(e):r?r&&r(e):void 0}},{"key":"onFocus","value":function onFocus(e){var onFocus=this.props.onFocus;Object.defineProperty(e,"detail",{"enumerable":!0,"value":{"value":e.target.value}}),onFocus&&onFocus(e)}},{"key":"onBlur","value":function onBlur(e){var onBlur=this.props.onBlur;Object.defineProperty(e,"detail",{"enumerable":!0,"value":{"value":e.target.value}}),onBlur&&onBlur(e)}},{"key":"render","value":function render(){var e=this.props,t=e.className,o=void 0===t?"":t,i=e.placeholder,l=void 0===i?"":i,p=e.disabled,s=e.maxlength,u=void 0===s?140:s,c=e.autoFocus,f=void 0!==c&&c;return n.e.createElement("textarea",a({},Object(r.a)(this.props,["className","placeholder","disabled","maxlength","onChange","onInput","onFocus","onBlur","autofocus"]),{"className":o,"placeholder":l,"disabled":p,"maxlength":u,"autofocus":f,"onChange":this.onChange,"onFocus":this.onFocus,"onBlur":this.onBlur}))}}]),Textarea}();t.a=l},"549":function(e,t,o){},"622":function(e,t,o){"use strict";o.r(t);var n=o(3),r=o(230),a=o(596),i=o(17),l=o(253),p=o(27),s=o(13),u=o(20),c=o(9),f=o(2),h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e},d={"dispatchReportPost":function dispatchReportPost(e,t){return function(o){return o({"type":f.a.GLOBAL.REPORT_POST_BEGIN}),new Promise(function(n,r){c.a.reportPost(e.id,t).then(function(t){o({"type":f.a.GLOBAL.REPORT_POST_SUCCESS,"data":h({"post":e},t)}),n(t)}).catch(function(e){o({"type":f.a.GLOBAL.REPORT_POST_FAIL}),r(e)})})}}},P=o(231),g=(o(549),o(229)),y=o(15),v=function(){function defineProperties(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,o){return t&&defineProperties(e.prototype,t),o&&defineProperties(e,o),e}}(),b=function get(e,t,o){null===e&&(e=Function.prototype);var n=Object.getOwnPropertyDescriptor(e,t);if(void 0===n){var r=Object.getPrototypeOf(e);return null===r?void 0:get(r,t,o)}if("value"in n)return n.value;var a=n.get;return void 0!==a?a.call(o):void 0},O=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e};var _=function(e){function SleepTalkReportPostPage(e){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,SleepTalkReportPostPage);var t=function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(SleepTalkReportPostPage.__proto__||Object.getPrototypeOf(SleepTalkReportPostPage)).call(this,e));return t.config={},t.state={"value":"","maxLen":1e3,"minLen":5},t}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(SleepTalkReportPostPage,u["a"]),v(SleepTalkReportPostPage,[{"key":"componentWillMount","value":function componentWillMount(){this.targetPost=this.$router.preload[f.a.PRELOAD.PRELOAD_SLEEP_TALK_REPORT_POST]}},{"key":"handleInputChange","value":function handleInputChange(e){this.setState({"value":e.detail.value})}},{"key":"handleSendReportInfo","value":function handleSendReportInfo(){if(this.targetPost){var e=this.state.value.length;if(e<this.state.minLen||e>this.state.maxLen)return void u.a.waringMessage("字数不符合");this.props.dispatchReportPost(this.targetPost,this.state.value).then(function(){y.a.navigateBack().then(function(){u.a.successMessage("举报成功")})})}}},{"key":"render","value":function render(){var e=this.state,t=e.value,o=e.maxLen,r=e.minLen,p=t.length,s=g.a.Images.icon_save;return n.e.createElement(a.a,null,n.e.createElement(P.b,{"title":"举报","leftIconVisible":!0}),n.e.createElement(P.j,{"fullScreen":!0},n.e.createElement(i.a,{"className":"send-post-text-body"},n.e.createElement(l.a,{"placeholder":"说点什么吧...","className":"send-post-text-area","autoFocus":!0,"autoHeight":!0,"maxlength":o,"onInput":this.handleInputChange,"value":t}),n.e.createElement(i.a,{"className":"send-post-limit-text","style":"color: "+(p>=r&&p<=o?"grey":"red")},p+" / "+r+"-"+o))),n.e.createElement(P.n,{"onClick":this.handleSendReportInfo,"icon":s,"backgroundColor":"#fff"}))}},{"key":"componentDidMount","value":function componentDidMount(){b(SleepTalkReportPostPage.prototype.__proto__||Object.getPrototypeOf(SleepTalkReportPostPage.prototype),"componentDidMount",this)&&b(SleepTalkReportPostPage.prototype.__proto__||Object.getPrototypeOf(SleepTalkReportPostPage.prototype),"componentDidMount",this).call(this)}},{"key":"componentDidShow","value":function componentDidShow(){b(SleepTalkReportPostPage.prototype.__proto__||Object.getPrototypeOf(SleepTalkReportPostPage.prototype),"componentDidShow",this)&&b(SleepTalkReportPostPage.prototype.__proto__||Object.getPrototypeOf(SleepTalkReportPostPage.prototype),"componentDidShow",this).call(this)}},{"key":"componentDidHide","value":function componentDidHide(){b(SleepTalkReportPostPage.prototype.__proto__||Object.getPrototypeOf(SleepTalkReportPostPage.prototype),"componentDidHide",this)&&b(SleepTalkReportPostPage.prototype.__proto__||Object.getPrototypeOf(SleepTalkReportPostPage.prototype),"componentDidHide",this).call(this)}}]),SleepTalkReportPostPage}();_.defaultProps={},_=r.a([Object(p.b)(function mapStateToProps(e){return O({},e.SleepTalkReportPostReducer.toJS())},function mapDispatchToProps(e){return O({},Object(s.b)(d,e))})],_);t.default=_}}]);